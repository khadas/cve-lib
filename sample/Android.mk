LOCAL_PATH:= $(call my-dir)

include $(CLEAR_VARS)
ifeq ($(shell test $(PLATFORM_SDK_VERSION) -ge 26 && echo OK),OK)
LOCAL_MODULE_PATH_32 := $(TARGET_OUT_VENDOR)/bin
endif

LIBDIR:=../libcve

LOCAL_SRC_FILES := sample_comm_cve.c
LOCAL_SRC_FILES += sample_cve_dma.c
LOCAL_SRC_FILES += sample_cve_lumaStat.c
LOCAL_SRC_FILES += sample_cve_filter.c
LOCAL_SRC_FILES += sample_cve_csc.c
LOCAL_SRC_FILES += sample_cve_filter_and_csc.c
LOCAL_SRC_FILES += sample_cve_sobel.c
LOCAL_SRC_FILES += sample_cve_mag_and_ang.c
LOCAL_SRC_FILES += sample_cve_matchbgmodel.c
LOCAL_SRC_FILES += sample_cve_erode_and_dilate.c
LOCAL_SRC_FILES += sample_cve_thresh.c
LOCAL_SRC_FILES += sample_cve_alu.c
LOCAL_SRC_FILES += sample_cve_integ.c
LOCAL_SRC_FILES += sample_cve_hist.c
LOCAL_SRC_FILES += sample_cve_thresh_s16.c
LOCAL_SRC_FILES += sample_cve_thresh_u16.c
LOCAL_SRC_FILES += sample_cve_16bit_to_8bit.c
LOCAL_SRC_FILES += sample_cve_ord_stat_filter.c
LOCAL_SRC_FILES += sample_cve_map.c
LOCAL_SRC_FILES += sample_cve_equalize_hist.c
LOCAL_SRC_FILES += sample_cve_ncc.c
LOCAL_SRC_FILES += sample_cve_ccl.c
LOCAL_SRC_FILES += sample_cve_gmm.c
LOCAL_SRC_FILES += sample_cve_canny_hys_edge.c
LOCAL_SRC_FILES += sample_cve_lbp.c
LOCAL_SRC_FILES += sample_cve_norm_grad.c
LOCAL_SRC_FILES += sample_cve_buildlkopticalflowpyr.c
LOCAL_SRC_FILES += sample_cve_lkopticalflowpyr.c
LOCAL_SRC_FILES += sample_cve_st.c
LOCAL_SRC_FILES += sample_cve_sad.c
LOCAL_SRC_FILES += sample_cve_updatebgmodel.c
LOCAL_SRC_FILES += sample_cve_tof.c
LOCAL_SRC_FILES += sample_cve_hist_eqhist.c
LOCAL_SRC_FILES += sample_cve_main.c

LOCAL_C_INCLUDES := \
		$(LOCAL_PATH) \
		$(LOCAL_PATH)/../include \
		$(LOCAL_PATH)/$(LIBDIR)\

#LOCAL_SHARED_LIBRARIES := libcve libion
LOCAL_SHARED_LIBRARIES := libion
LOCAL_STATIC_LIBRARIES := libcve

LOCAL_CFLAGS := -Wall -Wno-unused-variable -Wno-sign-compare
LOCAL_CFLAGS += -Wno-multichar -Wno-sometimes-uninitialized -Wno-format
#LOCAL_CFLAGS += -UNDEBUG

LOCAL_MODULE_TAGS := optional

LOCAL_MODULE:= sample-cve
LOCAL_LICENSE_KINDS := SPDX-license-identifier-GPL-2.0+ SPDX-license-identifier-MIT
LOCAL_LICENSE_CONDITIONS := notice

include $(BUILD_EXECUTABLE)
